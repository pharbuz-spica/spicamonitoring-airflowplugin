{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$$target": "generic_alert",
    "$id": "generic_alert.json",
    "title": "Alert",
    "type": "array",
    "minItems": 1,
    "create_snippet": true,
    "items": {
        "type": "object",
        "required": ["event_type", "alert_condition", "alert_id", "event_name", "threshold", "samples",
            "violating_samples", "dealerting_samples"
        ],
        "properties": {
            "alert_id": {
                "description": "Unique alert id.",
                "$ref": "name.json"
            },
            "event_type": {
                "description": "Event type",
                "$ref": "generic_event_type.json"
            },
            "description": {
                "description": "Description defines alert message, following code snippets could be used: {threshold} the value of the custom threshold that was violated {severity} the violating value {entityname} the display name of the entity where the metric violated {violating_samples} the number of violating samples that led to that event {dimensions} a string containg the violating dimensions of the metric {alert_condition} a string showing if above or below threshold is alerting",
                "type":"string"
            },
            "alert_condition": {
                "description": "Alert condition",
                "$ref": "generic_event_condition.json"
            },
            "event_name": {
                "type": "string",
                "description": "Event name displayed on UI pages.",
                "minLength": 1
            },
            "threshold": {
                "type": "number",
                "description": "The value of the threshold.",
                "minimum": 0
            },
            "samples": {
                "type": "integer",
                "description": "Size of the \"window\" in which violating_samples are counted.",
                "minimum": 1,
                "maximum": 20
            },

            "violating_samples": {
                "type": "integer",
                "description": "The number of violating samples that rise an alert. Must be less that samples.",
                "minimum": 1
            },
            "dealerting_samples": {
                "type": "integer",
                "description": "The number of not violating samples that deactivate and alert. Must be less that samples.",
                "minimum": 1
            }
        }
    }
}