{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "$id": "schema_activegate.json",
    "required": ["name", "version", "technologies", "entity", "metrics", "metricGroup"],
    "title": "plugin.json top level",
    "create_snippet": true,
    "properties": {
        "name": {
            "type": "string",
            "minLength": 1,
            "description": "A unique plugin name in Java package format.",
            "pattern": "^custom.remote.python.([a-zA-Z][a-zA-Z0-9_-]*)+$"
        },
        "version": {
            "type": "string",
            "description": "The plugin version, must be updated whenever the plugin definition is updated.",
            "pattern": "^\\d+.\\d+(.\\d+)?$"
        },
        "technologies": {
            "description": "Type of technology that plugin monitors, as can be viewed on Technologies overview page.",
            "minItems": 1
        },
        "favicon": {
          "type": "string",
          "description": "link to favicon that should be used on technology tile"
        },
        "entity": {
            "type": "string",
            "description": "Entity type upon which the plugin is activated",
            "enum": ["CUSTOM_DEVICE", "CUSTOM_DEVICE_GROUP"]
        },
        "metricGroup": {
            "type": "string",
            "minLength": 1,
            "description": "Metric group is used for grouping custom metrics into a hierarchical namespace where different sources, for example multiple plugins can contribute. Moreover, metric group becomes primary part of metric key. Hence once defined it could not be changed.",
            "pattern": "^(\/?[-a-zA-Z0-9_.]+)+$"
        },
        "source": {
            "description": "Python metadata used by ActiveGate PluginModule python engine",
            "$ref": "source.json"
        },
        "metrics": {
            "description": "The section defining metrics; see Metrics section for reference",
            "$ref": "metrics_activegate.json"
        },
        "properties": {
            "type": "array",
            "description": "Configuration properties the plugin can accept.",
            "$ref": "properties.json"
        },
        "ui": {
            "description": "This part of the JSON defines how metrics are charted on each Process page.",
            "$ref": "ui.json"
        },
        "configUI": {
            "description": "The configUI section defines the configuration fields that are displayed in the UI.",
            "$ref": "configui.json"
        }
    }
}